<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Guess the Number ‚Äî Polished</title>
  <style>
    :root{
      --bg-1: linear-gradient(135deg,#0f172a 0%, #0b1220 100%);
      --glass: rgba(255,255,255,0.04);
      --glass-border: rgba(255,255,255,0.06);
      --muted: #94a3b8;
      --accent: #06b6d4;
      --accent-2: #7c3aed;
      --success: #22c55e;
      --danger: #ef4444;
      font-family: Inter, system-ui, sans-serif;
    }
    body{
      margin:0;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px;
      background:radial-gradient(1000px 500px at 10% 10%, rgba(124,58,237,0.12), transparent),
                 radial-gradient(800px 400px at 90% 90%, rgba(6,182,212,0.08), transparent),
                 #071025;
      color:#e6eef8;
    }
    .container{max-width:800px;width:100%}
    header, footer{display:flex;flex-wrap:wrap;justify-content:space-between;gap:8px;margin-bottom:10px}
    h1{margin:0;font-size:22px}
    main{background:rgba(255,255,255,0.02);padding:16px;border-radius:12px}
    .controls{display:flex;gap:8px;flex-wrap:wrap;margin:12px 0}
    input{flex:1;padding:10px;border-radius:8px;border:1px solid var(--glass-border);background:transparent;color:#fff}
    button,.link-btn{padding:10px 14px;border-radius:8px;cursor:pointer;font-weight:700}
    button{background:linear-gradient(90deg,var(--accent),var(--accent-2));border:none;color:#071025}
    .secondary{background:transparent;border:1px solid var(--glass-border);color:var(--muted)}
    .log{min-height:70px;margin-top:12px;text-align:center;padding:10px;border:1px dashed var(--glass-border)}
    .emoji-popup{position:absolute;font-size:40px;animation:bounce 1s infinite}
    @keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-12px)}}
    .win-banner{font-size:20px;font-weight:900;color:gold;text-shadow:0 0 10px #facc15,0 0 20px #fbbf24;animation:pulse 1s infinite alternate;margin-top:10px}
    @keyframes pulse{from{transform:scale(1)}to{transform:scale(1.1)}}
    .scoreboard{margin-top:14px}
    .score-row{display:flex;justify-content:space-between;margin:4px 0}
    .progress-wrap{height:10px;background:rgba(255,255,255,0.05);border-radius:999px;overflow:hidden}
    .progress{height:100%;width:0;background:linear-gradient(90deg,var(--accent),var(--accent-2))}
    footer{margin-top:14px;font-size:13px;color:var(--muted);text-align:center;width:100%}
  </style>
</head>
<body>
  <canvas id="confettiCanvas"></canvas>
  <div class="container">
    <header>
      <h1>Guess the Number</h1>
      <nav>
        <a class="link-btn" href="https://docs.google.com/document/d/1FRhtUlkFXN0YhrAdzL3LGeuumKVb1UFLXqfTIIZ48Fw/edit?usp=drivesdk" target="_blank">üìÑ Proof Doc</a>
        <a class="link-btn" href="https://binamg7.github.io/BG/game.html" target="_blank">üéÆ Old Game</a>
      </nav>
    </header>

    <main>
      <p>Guess the hidden number! Choose difficulty, then type your guess and press Guess or Enter.</p>
      <div>
        <select id="difficulty">
          <option value="easy">Easy (1‚Äì50)</option>
          <option value="normal" selected>Normal (1‚Äì100)</option>
          <option value="hard">Hard (1‚Äì500)</option>
        </select>
        <button id="timerToggle" class="secondary">‚è±Ô∏è Timed</button>
        <button id="soundToggle" class="secondary">üîä Sound</button>
      </div>
      <div class="controls">
        <input id="guessInput" type="number" inputmode="numeric" placeholder="Enter your guess">
        <button id="guessBtn">Guess</button>
        <button id="newRoundBtn" class="secondary">New Round</button>
      </div>
      <div id="log" class="log">Good luck ‚Äî make your first guess!</div>
      <div class="scoreboard">
        <div class="score-row"><span>Attempts:</span><span id="attempts">0</span></div>
        <div class="score-row"><span>Streak:</span><span id="streak">0</span></div>
        <div class="score-row"><span>Best:</span><span id="best">‚Äî</span></div>
        <div class="score-row"><span>Last:</span><span id="lastAttempts">‚Äî</span></div>
        <div class="progress-wrap"><div id="progress" class="progress"></div></div>
        <small id="timeLabel">‚Äî</small>
      </div>
    </main>

    <footer>
      <a href="https://docs.google.com/document/d/1FRhtUlkFXN0YhrAdzL3LGeuumKVb1UFLXqfTIIZ48Fw/edit?usp=drivesdk" target="_blank">üìÑ Proof Document</a> ¬∑
      <a href="https://binamg7.github.io/BG/game.html" target="_blank">üéÆ Old Game</a>
    </footer>
  </div>

  <!-- Sounds -->
  <audio id="soundWin" src="https://actions.google.com/sounds/v1/ambiences/crowd_cheer.ogg"></audio>
  <audio id="soundLose" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg"></audio>
  <audio id="soundMusic" src="https://actions.google.com/sounds/v1/ambiences/arcade_amusement.ogg" loop></audio>

  <script>
    const DIFFICULTY={easy:50,normal:100,hard:500};
    let target,max,attempts=0,best={},streak=0,timer=null,timed=false,sounds=true;
    const input=document.getElementById('guessInput'),
          log=document.getElementById('log'),
          attemptsEl=document.getElementById('attempts'),
          bestEl=document.getElementById('best'),
          streakEl=document.getElementById('streak'),
          lastEl=document.getElementById('lastAttempts'),
          progress=document.getElementById('progress'),
          timeLabel=document.getElementById('timeLabel');
    const winS=document.getElementById('soundWin'),
          loseS=document.getElementById('soundLose'),
          musicS=document.getElementById('soundMusic');
    function newRound(){clearTimer();musicS.pause();musicS.currentTime=0;
      const mode=document.getElementById('difficulty').value;max=DIFFICULTY[mode];
      target=Math.floor(Math.random()*max)+1;attempts=0;
      input.disabled=false;document.getElementById('guessBtn').disabled=false;
      attemptsEl.textContent=0;log.textContent=`New round: Guess between 1 and ${max}`;input.value='';}
    function guess(){const val=parseInt(input.value);if(!val||val<1||val>max){log.textContent=`Enter 1‚Äì${max}`;return;}
      attempts++;attemptsEl.textContent=attempts;
      if(val===target)win();else wrong(val<target?"Too low":"Too high");}
    function wrong(msg){log.textContent=msg;emoji("üò≠");if(sounds)loseS.play().catch(()=>{});}
    function win(){log.innerHTML=`üéâ Correct! The number was ${target}. Attempts: ${attempts}<div class="win-banner">üéä Congratulations! You win 10 million dollars! üí∞üíµ</div>`;
      input.disabled=true;document.getElementById('guessBtn').disabled=true;
      lastEl.textContent=attempts;streak++;streakEl.textContent=streak;
      if(!best[max]||attempts<best[max]){best[max]=attempts;bestEl.textContent=attempts;}
      if(sounds){winS.play().catch(()=>{});musicS.currentTime=0;musicS.play().catch(()=>{});}
      confetti();}
    function emoji(e){const span=document.createElement("span");span.textContent=e;span.className="emoji-popup";log.appendChild(span);setTimeout(()=>span.remove(),4000);}
    function startTimer(){let time=30;function tick(){time--;timeLabel.textContent=time+"s";progress.style.width=(time/30*100)+"%";if(time<=0){lose();}else{timer=setTimeout(tick,1000);}}tick();}
    function clearTimer(){if(timer)clearTimeout(timer);progress.style.width="0";timeLabel.textContent="‚Äî";}
    function lose(){log.textContent="‚è±Ô∏è Time's up or you lost!";streak=0;streakEl.textContent=0;input.disabled=true;document.getElementById('guessBtn').disabled=true;emoji("üò≠");musicS.pause();musicS.currentTime=0;if(sounds)loseS.play().catch(()=>{});}
    // Confetti simple
    function confetti(){const c=document.getElementById("confettiCanvas"),ctx=c.getContext("2d");c.width=innerWidth;c.height=innerHeight;
      let p=[];for(let i=0;i<100;i++)p.push({x:Math.random()*c.width,y:Math.random()*c.height/2,vx:Math.random()*4-2,vy:Math.random()*4+2,color:`hsl(${Math.random()*360},100%,50%)`});
      function draw(){ctx.clearRect(0,0,c.width,c.height);p.forEach(pp=>{ctx.fillStyle=pp.color;ctx.fillRect(pp.x,pp.y,5,5);pp.x+=pp.vx;pp.y+=pp.vy;pp.vy+=0.1;if(pp.y>c.height)pp.y=-10;});requestAnimationFrame(draw);}draw();}
    // Events
    document.getElementById('guessBtn').onclick=guess;
    document.getElementById('newRoundBtn').onclick=newRound;
    input.onkeydown=e=>{if(e.key==="Enter")guess();}
    document.getElementById('timerToggle').onclick=()=>{timed=!timed;newRound();if(timed)startTimer();}
    document.getElementById('soundToggle').onclick=()=>{sounds=!sounds;}
    newRound();
  </script>
</body>
</html>
